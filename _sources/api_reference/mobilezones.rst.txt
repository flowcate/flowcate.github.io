Mobile Zone Extension
=====================

The Mobile Zone Extension (MZE) of the DeepHub® allows for the seamless integration of proximity-based positioning solutions that change their position. The MZE changes the position of your proximity zone by connecting the zone with location updates of a real-time locating system - via an omlox Location Provider or an omlox Trackable.

As an example use case, consider you have assets equipped with RFID tags, and you want to keep track of the exact location of your assets in your warehouse. The RFID tags do not provide exact location information. However, with omlox, you can combine multiple positioning technologies and thereby add location information. For example, you could combine an UWB positioning system with proximity information provided by an RFID positioning system.

To illustrate this further, consider you have a forklift equipped with an RFID scanner and an UWB tag. The UWB tag provides exact real-time location information about the forklift, while the RFID scanner provides information about the assets the forklift is carrying. The RFID scanner will receive proximity information as long as your forklift carries assets with RFID tags attached to them.

Normally, the position of a proximity-based zone has to be updated manually, because it cannot generate location information on its own. However, with the DeepHub MZE, you can keep track of the position where assets were dropped off by matching the location information of the forklift with the last-received proximity information of carried assets.

The DeepHub MZE makes this task as simple as possible.

Setup and Configuration
-----------------------

Setting up the MZE is done in two steps. First, a zone needs to be created representing each available proximity positioning system (e.g. RFID scanner). Next, an omlox trackable (e.g. representing a forklift) or an omlox location provider (e.g. an UWB tag) needs to be assigned to the zone in order to enable the MZE. By linking the trackable or location provider with the zone of the installed proximity system, the position of the proximity system will be updated in real-time as the trackable or location provider relocates.

**Setting up a proximity zone in the DeepHub:**

You may create a zone through the DeepHub API or the DeepHub UI. To do so in the UI:

* Login to the DeepHub UI.
* Choose Zones.
* Create a new zone by setting a proper zone type (rfid or ibeacon) and floor level. You do not need to choose an exact position on the map, as the position will be updated automatically. Simply choose a nearby location.
* Set a unique Foreign ID, for example "forklift-123-rfid".
* Click Save to create the zone.

You should now see location updates in real-time in the Live View of the DeepHub UI when location updates are received.

In order to enable the MZE for this zone, you must assign a location provider or trackable to the zone by adding a location provider or trackable to the zone’s properties. This is currently only possible through the DeepHub API. The member variables available for the zone properties are the following:

* "com.hdm.hub.zone.autozoneupdate.trackables": A list containing IDs of trackables. The zone's position is updated whenever a trackable's location is updated.
* "com.hdm.hub.zone.autozoneupdate.providers": A list containing IDs of location providers. The zone's position is updated whenever one of the locations is updated.

An example zone with location providers and trackables configured for auto position updating of the zone:

.. code-block:: json

  {
    "id": "ffffffff-bce8-6c23-e342-80bd5c938775",
    "foreign_id": "rfid-provider-autozone",
    "type": "rfid",
    "floor": 4,
    "need_transformation": true,
    "name": "Zone R (RFID)",
    "address": "",
    "position": {
      "type": "Point",
      "coordinates": [
          0,
          0
      ]
    },
    "radius": 2.0,
    "properties": {
        "com.hdm.hub.zone.autozoneupdate.providers": [
            "autozone-provider-123"
        ],
        "com.hdm.hub.zone.autozoneupdate.trackables": [
            "5EE9265B-EFDF-4EDB-98AD-9D01E11B687F"
        ]
    }
  }
